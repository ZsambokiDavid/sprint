version: '3'
#volumes:
#  data:
services:
  python:
    image: python
    restart: always
    volumes:
      - /etc/sprint/python:/root/pcode
#    command: "/root/pcode/app.py"
#    environment:
#      - $PATH=/root
    command:
      - sh /etc/sprint/requirements.sh
      - sh /etc/sprint/shell.sh
    networks:
    - nextcloud-network

    deploy:
      mode: replicated
      replicas: 1
      placement:
        constraints:
          - node.hostname == ${NODENAME}

networks:
  nextcloud-network:
    external: true
